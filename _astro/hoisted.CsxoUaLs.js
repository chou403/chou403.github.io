function Kt(t,e){t.indexOf(e)===-1&&t.push(e)}const Pt=(t,e,n)=>Math.min(Math.max(n,t),e),w={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},V=t=>typeof t=="number",D=t=>Array.isArray(t)&&!V(t[0]),zt=(t,e,n)=>{const i=e-t;return((n-t)%i+i)%i+t};function Gt(t,e){return D(t)?t[zt(0,t.length,e)]:t}const Rt=(t,e,n)=>-n*t+n*e+t,xt=()=>{},S=t=>t,ot=(t,e,n)=>e-t===0?1:(n-t)/(e-t);function Dt(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=ot(0,e,i);t.push(Rt(n,1,r))}}function Zt(t){const e=[0];return Dt(e,t-1),e}function Jt(t,e=Zt(t.length),n=S){const i=t.length,r=i-e.length;return r>0&&Dt(e,r),s=>{let a=0;for(;a<i-2&&!(s<e[a+1]);a++);let o=Pt(0,1,ot(e[a],e[a+1],s));return o=Gt(n,a)(o),Rt(t[a],t[a+1],o)}}const It=t=>Array.isArray(t)&&V(t[0]),tt=t=>typeof t=="object"&&!!t.createAnimation,k=t=>typeof t=="function",Qt=t=>typeof t=="string",_={ms:t=>t*1e3,s:t=>t/1e3},kt=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,te=1e-7,ee=12;function ne(t,e,n,i,r){let s,a,o=0;do a=e+(n-e)/2,s=kt(a,i,r)-t,s>0?n=a:e=a;while(Math.abs(s)>te&&++o<ee);return a}function C(t,e,n,i){if(t===e&&n===i)return S;const r=s=>ne(s,0,1,t,n);return s=>s===0||s===1?s:kt(r(s),e,i)}const ie=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const i=n*t,r=e==="end"?Math.floor(i):Math.ceil(i);return Pt(0,1,r/t)},re={ease:C(.25,.1,.25,1),"ease-in":C(.42,0,1,1),"ease-in-out":C(.42,0,.58,1),"ease-out":C(0,0,.58,1)},oe=/\((.*?)\)/;function ft(t){if(k(t))return t;if(It(t))return C(...t);const e=re[t];if(e)return e;if(t.startsWith("steps")){const n=oe.exec(t);if(n){const i=n[1].split(",");return ie(parseFloat(i[0]),i[1].trim())}}return S}class Mt{constructor(e,n=[0,1],{easing:i,duration:r=w.duration,delay:s=w.delay,endDelay:a=w.endDelay,repeat:o=w.repeat,offset:l,direction:u="normal",autoplay:d=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=S,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((f,h)=>{this.resolve=f,this.reject=h}),i=i||w.easing,tt(i)){const f=i.createAnimation(n);i=f.easing,n=f.keyframes||n,r=f.duration||r}this.repeat=o,this.easing=D(i)?S:ft(i),this.updateDuration(r);const c=Jt(n,l,D(i)?i.map(ft):S);this.tick=f=>{var h;s=s;let m=0;this.pauseTime!==void 0?m=this.pauseTime:m=(f-this.startTime)*this.rate,this.t=m,m/=1e3,m=Math.max(m-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(m=this.totalDuration);const T=m/this.duration;let v=Math.floor(T),E=T%1;!E&&T>=1&&(E=1),E===1&&v--;const $=v%2;(u==="reverse"||u==="alternate"&&$||u==="alternate-reverse"&&!$)&&(E=1-E);const M=m>=this.totalDuration?1:Math.min(E,1),R=c(this.easing(M));e(R),this.pauseTime===void 0&&(this.playState==="finished"||m>=this.totalDuration+a)?(this.playState="finished",(h=this.resolve)===null||h===void 0||h.call(this,R)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},d&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class se{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const G=new WeakMap;function Ot(t){return G.has(t)||G.set(t,{transforms:[],values:new Map}),G.get(t)}function ae(t,e){return t.has(e)||t.set(e,new se),t.get(e)}const ce=["","X","Y","Z"],le=["translate","scale","rotate","skew"],X={x:"translateX",y:"translateY",z:"translateZ"},mt={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},ue={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:mt,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:S},skew:mt},F=new Map,st=t=>`--motion-${t}`,j=["x","y","z"];le.forEach(t=>{ce.forEach(e=>{j.push(t+e),F.set(st(t+e),ue[t])})});const de=(t,e)=>j.indexOf(t)-j.indexOf(e),fe=new Set(j),Ct=t=>fe.has(t),me=(t,e)=>{X[e]&&(e=X[e]);const{transforms:n}=Ot(t);Kt(n,e),t.style.transform=he(n)},he=t=>t.sort(de).reduce(pe,"").trim(),pe=(t,e)=>`${t} ${e}(var(${st(e)}))`,et=t=>t.startsWith("--"),ht=new Set;function ge(t){if(!ht.has(t)){ht.add(t);try{const{syntax:e,initialValue:n}=F.has(t)?F.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:n})}catch{}}}const Z=(t,e)=>document.createElement("div").animate(t,e),pt={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Z({opacity:[1]})}catch{return!1}return!0},finished:()=>!!Z({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{Z({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},J={},x={};for(const t in pt)x[t]=()=>(J[t]===void 0&&(J[t]=pt[t]()),J[t]);const ye=.015,we=(t,e)=>{let n="";const i=Math.round(e/ye);for(let r=0;r<i;r++)n+=t(ot(0,i-1,r))+", ";return n.substring(0,n.length-2)},gt=(t,e)=>k(t)?x.linearEasing()?`linear(${we(t,e)})`:w.easing:It(t)?ve(t):t,ve=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`;function be(t,e){for(let n=0;n<t.length;n++)t[n]===null&&(t[n]=n?t[n-1]:e());return t}const Te=t=>Array.isArray(t)?t:[t];function nt(t){return X[t]&&(t=X[t]),Ct(t)?st(t):t}const H={get:(t,e)=>{e=nt(e);let n=et(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&n!==0){const i=F.get(e);i&&(n=i.initialValue)}return n},set:(t,e,n)=>{e=nt(e),et(e)?t.style.setProperty(e,n):t.style[e]=n}};function _t(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function Ee(t,e){var n;let i=e?.toDefaultUnit||S;const r=t[t.length-1];if(Qt(r)){const s=((n=r.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";s&&(i=a=>a+s)}return i}function Ae(){return window.__MOTION_DEV_TOOLS_RECORD}function Se(t,e,n,i={},r){const s=Ae(),a=i.record!==!1&&s;let o,{duration:l=w.duration,delay:u=w.delay,endDelay:d=w.endDelay,repeat:c=w.repeat,easing:f=w.easing,persist:h=!1,direction:m,offset:T,allowWebkitAcceleration:v=!1,autoplay:E=!0}=i;const $=Ot(t),M=Ct(e);let R=x.waapi();M&&me(t,e);const b=nt(e),U=ae($.values,b),A=F.get(b);return _t(U.animation,!(tt(f)&&U.generator)&&i.record!==!1),()=>{const B=()=>{var p,O;return(O=(p=H.get(t,b))!==null&&p!==void 0?p:A?.initialValue)!==null&&O!==void 0?O:0};let g=be(Te(n),B);const dt=Ee(g,A);if(tt(f)){const p=f.createAnimation(g,e!=="opacity",B,b,U);f=p.easing,g=p.keyframes||g,l=p.duration||l}if(et(b)&&(x.cssRegisterProperty()?ge(b):R=!1),M&&!x.linearEasing()&&(k(f)||D(f)&&f.some(k))&&(R=!1),R){A&&(g=g.map(L=>V(L)?A.toDefaultUnit(L):L)),g.length===1&&(!x.partialKeyframes()||a)&&g.unshift(B());const p={delay:_.ms(u),duration:_.ms(l),endDelay:_.ms(d),easing:D(f)?void 0:gt(f,l),direction:m,iterations:c+1,fill:"both"};o=t.animate({[b]:g,offset:T,easing:D(f)?f.map(L=>gt(L,l)):void 0},p),o.finished||(o.finished=new Promise((L,Yt)=>{o.onfinish=L,o.oncancel=Yt}));const O=g[g.length-1];o.finished.then(()=>{h||(H.set(t,b,O),o.cancel())}).catch(xt),v||(o.playbackRate=1.000001)}else if(r&&M)g=g.map(p=>typeof p=="string"?parseFloat(p):p),g.length===1&&g.unshift(parseFloat(B())),o=new r(p=>{H.set(t,b,dt?dt(p):p)},g,Object.assign(Object.assign({},i),{duration:l,easing:f}));else{const p=g[g.length-1];H.set(t,b,A&&V(p)?A.toDefaultUnit(p):p)}return a&&s(t,e,g,{duration:l,delay:u,easing:f,repeat:c,offset:T},"motion-one"),U.setAnimation(o),o&&!E&&o.pause(),o}}const Le=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function Pe(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Re=t=>t(),Ft=(t,e,n=w.duration)=>new Proxy({animations:t.map(Re).filter(Boolean),duration:n,options:e},De),xe=t=>t.animations[0],De={get:(t,e)=>{const n=xe(t);switch(e){case"duration":return t.duration;case"currentTime":return _.s(n?.[e]||0);case"playbackRate":case"playState":return n?.[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Ie)).catch(xt)),t.finished;case"stop":return()=>{t.animations.forEach(i=>_t(i))};case"forEachNative":return i=>{t.animations.forEach(r=>i(r,t))};default:return typeof n?.[e]>"u"?void 0:()=>t.animations.forEach(i=>i[e]())}},set:(t,e,n)=>{switch(e){case"currentTime":n=_.ms(n);case"playbackRate":for(let i=0;i<t.animations.length;i++)t.animations[i][e]=n;return!0}return!1}},Ie=t=>t.finished;function ke(t,e,n){return k(t)?t(e,n):t}function Me(t){return function(n,i,r={}){n=Pe(n);const s=n.length,a=[];for(let o=0;o<s;o++){const l=n[o];for(const u in i){const d=Le(r,u);d.delay=ke(d.delay,o,s);const c=Se(l,u,i[u],d,t);a.push(c)}}return Ft(a,r,r.duration)}}const Oe=Me(Mt);function Ce(t,e={}){return Ft([()=>{const n=new Mt(t,[0,1],e);return n.finished.catch(()=>{}),n}],e,e.duration)}function _e(t,e,n){return(k(t)?Ce:Oe)(t,e,n)}document.addEventListener("click",t=>{const e=document.getElementById("astro-header-drawer-button"),n=document.getElementById("astro-header-drawer"),i=t.target;e&&e.contains(i)||n&&n.contains(i)?n?.classList.toggle("translate-x-96"):n?.classList.add("translate-x-96")});const Fe=document.body,Ne=document.getElementById("toggleMenu");Ne?.addEventListener("click",()=>{document.getElementById("headlessui-dialog-:Rlb6:")?.classList.remove("hidden"),Fe.style.overflow="hidden"});class qe extends HTMLElement{constructor(){super();const e=this.querySelector("button");e&&e.addEventListener("click",n=>{if(n.currentTarget instanceof HTMLButtonElement){let i=n.currentTarget.getAttribute("aria-pressed")==="true",r=new CustomEvent("theme-change",{detail:{theme:i?"light":"dark"}});document.dispatchEvent(r),e.setAttribute("aria-pressed",String(!i))}})}}"customElements"in window&&customElements.define("theme-toggle",qe);const $e="modulepreload",Ue=function(t){return"/"+t},yt={},Be=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");r=Promise.allSettled(n.map(l=>{if(l=Ue(l),l in yt)return;yt[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":$e,u||(c.as="script"),c.crossOrigin="",c.href=l,o&&c.setAttribute("nonce",o),document.head.appendChild(c),u)return new Promise((f,h)=>{c.addEventListener("load",f),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};class He extends HTMLElement{constructor(){super();const e=this.querySelector("button[data-open-modal]"),n=this.querySelector("button[data-close-modal]"),i=this.querySelector("dialog"),r=this.querySelector(".dialog-frame"),s=u=>{document.body.contains(u.target)&&!r.contains(u.target)&&l()},a=u=>{if(u.key==="Escape"&&i.open)l(),window.removeEventListener("keydown",a);else return},o=u=>{i.showModal(),_e("dialog",{clipPath:["polygon(0 0, 100% 0, 100% -200%, -200% -200%)","polygon(0 0, 100% 0, 100% 100%, 0% 100%)"],opacity:[0,1]},{duration:.2}),document.body.classList.add("overflow-hidden"),this.querySelector("input")?.focus(),u?.stopPropagation(),window.addEventListener("click",s),window.addEventListener("keydown",a)},l=()=>{i.close(),document.body.classList.remove("overflow-hidden"),window.removeEventListener("click",s),window.addEventListener("keydown",a)};e.addEventListener("click",o),e.disabled=!1,n.addEventListener("click",l),document.addEventListener("astro:after-swap",l),window.addEventListener("keydown",u=>{u.key==="/"&&!i.open&&(o(),u.preventDefault())}),window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(d=>setTimeout(d,1)))(async()=>{const{PagefindUI:d}=await Be(async()=>{const{PagefindUI:c}=await import("./ui-core.C4fQRjrb.js");return{PagefindUI:c}},[]);new d({element:"#pagefind__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1})})})}}customElements.define("site-search",He);const I="data-astro-transition-persist";function Ve(t){for(const e of document.scripts)for(const n of t.scripts)if(!n.hasAttribute("data-astro-rerun")&&(!e.src&&e.textContent===n.textContent||e.src&&e.type===n.type&&e.src===n.src)){n.dataset.astroExec="";break}}function Xe(t){const e=document.documentElement,n=[...e.attributes].filter(({name:i})=>(e.removeAttribute(i),i.startsWith("data-astro-")));[...t.documentElement.attributes,...n].forEach(({name:i,value:r})=>e.setAttribute(i,r))}function je(t){for(const e of Array.from(document.head.children)){const n=Ke(e,t);n?n.remove():e.remove()}document.head.append(...t.head.children)}function We(t,e){e.replaceWith(t);for(const n of e.querySelectorAll(`[${I}]`)){const i=n.getAttribute(I),r=t.querySelector(`[${I}="${i}"]`);r&&(r.replaceWith(n),r.localName==="astro-island"&&ze(n)&&!Ge(n,r)&&(n.setAttribute("ssr",""),n.setAttribute("props",r.getAttribute("props"))))}}const Ye=()=>{const t=document.activeElement;if(t?.closest(`[${I}]`)){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){const e=t.selectionStart,n=t.selectionEnd;return()=>Q({activeElement:t,start:e,end:n})}return()=>Q({activeElement:t})}else return()=>Q({activeElement:null})},Q=({activeElement:t,start:e,end:n})=>{t&&(t.focus(),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(typeof e=="number"&&(t.selectionStart=e),typeof n=="number"&&(t.selectionEnd=n)))},Ke=(t,e)=>{const n=t.getAttribute(I),i=n&&e.head.querySelector(`[${I}="${n}"]`);if(i)return i;if(t.matches("link[rel=stylesheet]")){const r=t.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${r}"]`)}return null},ze=t=>{const e=t.dataset.astroTransitionPersistProps;return e==null||e==="false"},Ge=(t,e)=>t.getAttribute("props")===e.getAttribute("props"),Ze=t=>{Ve(t),Xe(t),je(t);const e=Ye();We(t.body,document.body),e()},Je="astro:before-preparation",Qe="astro:after-preparation",tn="astro:before-swap",en="astro:after-swap",nn=t=>document.dispatchEvent(new Event(t));class Nt extends Event{from;to;direction;navigationType;sourceElement;info;newDocument;signal;constructor(e,n,i,r,s,a,o,l,u,d){super(e,n),this.from=i,this.to=r,this.direction=s,this.navigationType=a,this.sourceElement=o,this.info=l,this.newDocument=u,this.signal=d,Object.defineProperties(this,{from:{enumerable:!0},to:{enumerable:!0,writable:!0},direction:{enumerable:!0,writable:!0},navigationType:{enumerable:!0},sourceElement:{enumerable:!0},info:{enumerable:!0},newDocument:{enumerable:!0,writable:!0},signal:{enumerable:!0}})}}class rn extends Nt{formData;loader;constructor(e,n,i,r,s,a,o,l,u,d){super(Je,{cancelable:!0},e,n,i,r,s,a,o,l),this.formData=u,this.loader=d.bind(this,this),Object.defineProperties(this,{formData:{enumerable:!0},loader:{enumerable:!0,writable:!0}})}}class on extends Nt{direction;viewTransition;swap;constructor(e,n){super(tn,void 0,e.from,e.to,e.direction,e.navigationType,e.sourceElement,e.info,e.newDocument,e.signal),this.direction=e.direction,this.viewTransition=n,this.swap=()=>Ze(this.newDocument),Object.defineProperties(this,{direction:{enumerable:!0},viewTransition:{enumerable:!0},swap:{enumerable:!0,writable:!0}})}}async function sn(t,e,n,i,r,s,a,o,l){const u=new rn(t,e,n,i,r,s,window.document,a,o,l);return document.dispatchEvent(u)&&(await u.loader(),u.defaultPrevented||(nn(Qe),u.navigationType!=="traverse"&&at({scrollX,scrollY}))),u}function an(t,e){const n=new on(t,e);return document.dispatchEvent(n),n.swap(),n}const cn=history.pushState.bind(history),W=history.replaceState.bind(history),at=t=>{history.state&&(history.scrollRestoration="manual",W({...history.state,...t},""))},ct=!!document.startViewTransition,lt=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),qt=(t,e)=>t.pathname===e.pathname&&t.search===e.search;let y,P,K;const $t=t=>document.dispatchEvent(new Event(t)),Ut=()=>$t("astro:page-load"),ln=()=>{let t=document.createElement("div");t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true"),t.className="astro-route-announcer",document.body.append(t),setTimeout(()=>{let e=document.title||document.querySelector("h1")?.textContent||location.pathname;t.textContent=e},60)},wt="data-astro-transition-persist",vt="data-astro-transition",it="data-astro-transition-fallback";let bt,N=0;history.state?(N=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):lt()&&(W({index:N,scrollX,scrollY},""),history.scrollRestoration="manual");async function un(t,e){try{const n=await fetch(t,e),r=(n.headers.get("content-type")??"").split(";",1)[0].trim();return r!=="text/html"&&r!=="application/xhtml+xml"?null:{html:await n.text(),redirected:n.redirected?n.url:void 0,mediaType:r}}catch{return null}}function Bt(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}function dn(){let t=Promise.resolve();for(const e of document.getElementsByTagName("script")){if(e.dataset.astroExec==="")continue;const n=e.getAttribute("type");if(n&&n!=="module"&&n!=="text/javascript")continue;const i=document.createElement("script");i.innerHTML=e.innerHTML;for(const r of e.attributes){if(r.name==="src"){const s=new Promise(a=>{i.onload=i.onerror=a});t=t.then(()=>s)}i.setAttribute(r.name,r.value)}i.dataset.astroExec="",e.replaceWith(i)}return t}const Ht=(t,e,n,i,r)=>{const s=qt(e,t),a=document.title;document.title=i;let o=!1;if(t.href!==location.href&&!r)if(n.history==="replace"){const l=history.state;W({...n.state,index:l.index,scrollX:l.scrollX,scrollY:l.scrollY},"",t.href)}else cn({...n.state,index:++N,scrollX:0,scrollY:0},"",t.href);if(document.title=a,K=t,s||(scrollTo({left:0,top:0,behavior:"instant"}),o=!0),r)scrollTo(r.scrollX,r.scrollY);else{if(t.hash){history.scrollRestoration="auto";const l=history.state;location.href=t.href,history.state||(W(l,""),s&&window.dispatchEvent(new PopStateEvent("popstate")))}else o||scrollTo({left:0,top:0,behavior:"instant"});history.scrollRestoration="manual"}};function fn(t){const e=[];for(const n of t.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${wt}="${n.getAttribute(wt)}"], link[rel=stylesheet][href="${n.getAttribute("href")}"]`)){const i=document.createElement("link");i.setAttribute("rel","preload"),i.setAttribute("as","style"),i.setAttribute("href",n.getAttribute("href")),e.push(new Promise(r=>{["load","error"].forEach(s=>i.addEventListener(s,r)),document.head.append(i)}))}return e}async function Tt(t,e,n,i,r){async function s(l){function u(h){const m=h.effect;return!m||!(m instanceof KeyframeEffect)||!m.target?!1:window.getComputedStyle(m.target,m.pseudoElement).animationIterationCount==="infinite"}const d=document.getAnimations();document.documentElement.setAttribute(it,l);const f=document.getAnimations().filter(h=>!d.includes(h)&&!u(h));return Promise.allSettled(f.map(h=>h.finished))}if(r==="animate"&&!n.transitionSkipped&&!t.signal.aborted)try{await s("old")}catch{}const a=document.title,o=an(t,n.viewTransition);Ht(o.to,o.from,e,a,i),$t(en),r==="animate"&&(!n.transitionSkipped&&!o.signal.aborted?s("new").finally(()=>n.viewTransitionFinished()):n.viewTransitionFinished())}function mn(){return y?.controller.abort(),y={controller:new AbortController}}async function Vt(t,e,n,i,r){const s=mn();if(!lt()||location.origin!==n.origin){s===y&&(y=void 0),location.href=n.href;return}const a=r?"traverse":i.history==="replace"?"replace":"push";if(a!=="traverse"&&at({scrollX,scrollY}),qt(e,n)&&(t!=="back"&&n.hash||t==="back"&&e.hash)){Ht(n,e,i,document.title,r),s===y&&(y=void 0);return}const o=await sn(e,n,t,a,i.sourceElement,i.info,s.controller.signal,i.formData,l);if(o.defaultPrevented||o.signal.aborted){s===y&&(y=void 0),o.signal.aborted||(location.href=n.href);return}async function l(c){const f=c.to.href,h={signal:c.signal};if(c.formData){h.method="POST";const v=c.sourceElement instanceof HTMLFormElement?c.sourceElement:c.sourceElement instanceof HTMLElement&&"form"in c.sourceElement?c.sourceElement.form:c.sourceElement?.closest("form");h.body=v?.attributes.getNamedItem("enctype")?.value==="application/x-www-form-urlencoded"?new URLSearchParams(c.formData):c.formData}const m=await un(f,h);if(m===null){c.preventDefault();return}if(m.redirected){const v=new URL(m.redirected);if(v.origin!==c.to.origin){c.preventDefault();return}c.to=v}if(bt??=new DOMParser,c.newDocument=bt.parseFromString(m.html,m.mediaType),c.newDocument.querySelectorAll("noscript").forEach(v=>v.remove()),!c.newDocument.querySelector('[name="astro-view-transitions-enabled"]')&&!c.formData){c.preventDefault();return}const T=fn(c.newDocument);T.length&&!c.signal.aborted&&await Promise.all(T)}async function u(){if(P&&P.viewTransition){try{P.viewTransition.skipTransition()}catch{}try{await P.viewTransition.updateCallbackDone}catch{}}return P={transitionSkipped:!1}}const d=await u();if(o.signal.aborted){s===y&&(y=void 0);return}if(document.documentElement.setAttribute(vt,o.direction),ct)d.viewTransition=document.startViewTransition(async()=>await Tt(o,i,d,r));else{const c=(async()=>{await Promise.resolve(),await Tt(o,i,d,r,Bt())})();d.viewTransition={updateCallbackDone:c,ready:c,finished:new Promise(f=>d.viewTransitionFinished=f),skipTransition:()=>{d.transitionSkipped=!0,document.documentElement.removeAttribute(it)}}}d.viewTransition?.updateCallbackDone.finally(async()=>{await dn(),Ut(),ln()}),d.viewTransition?.finished.finally(()=>{d.viewTransition=void 0,d===P&&(P=void 0),s===y&&(y=void 0),document.documentElement.removeAttribute(vt),document.documentElement.removeAttribute(it)});try{await d.viewTransition?.updateCallbackDone}catch(c){const f=c;console.log("[astro]",f.name,f.message,f.stack)}}async function Et(t,e){await Vt("forward",K,new URL(t,location.href),e??{})}function hn(t){if(!lt()&&t.state){location.reload();return}if(t.state===null)return;const e=history.state,n=e.index,i=n>N?"forward":"back";N=n,Vt(i,K,new URL(location.href),{},e)}const At=()=>{history.state&&(scrollX!==history.state.scrollX||scrollY!==history.state.scrollY)&&at({scrollX,scrollY})};{if(ct||Bt()!=="none")if(K=new URL(location.href),addEventListener("popstate",hn),addEventListener("load",Ut),"onscrollend"in window)addEventListener("scrollend",At);else{let t,e,n,i;const r=()=>{if(i!==history.state?.index){clearInterval(t),t=void 0;return}if(e===scrollY&&n===scrollX){clearInterval(t),t=void 0,At();return}else e=scrollY,n=scrollX};addEventListener("scroll",()=>{t===void 0&&(i=history.state.index,e=scrollY,n=scrollX,t=window.setInterval(r,50))},{passive:!0})}for(const t of document.getElementsByTagName("script"))t.dataset.astroExec=""}const Xt=new Set,Y=new WeakSet;let rt,jt,St=!1;function pn(t){St||(St=!0,rt??=t?.prefetchAll,jt??=t?.defaultStrategy??"hover",gn(),yn(),wn(),bn())}function gn(){for(const t of["touchstart","mousedown"])document.body.addEventListener(t,e=>{q(e.target,"tap")&&z(e.target.href,{ignoreSlowConnection:!0})},{passive:!0})}function yn(){let t;document.body.addEventListener("focusin",i=>{q(i.target,"hover")&&e(i)},{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),ut(()=>{for(const i of document.getElementsByTagName("a"))Y.has(i)||q(i,"hover")&&(Y.add(i),i.addEventListener("mouseenter",e,{passive:!0}),i.addEventListener("mouseleave",n,{passive:!0}))});function e(i){const r=i.target.href;t&&clearTimeout(t),t=setTimeout(()=>{z(r)},80)}function n(){t&&(clearTimeout(t),t=0)}}function wn(){let t;ut(()=>{for(const e of document.getElementsByTagName("a"))Y.has(e)||q(e,"viewport")&&(Y.add(e),t??=vn(),t.observe(e))})}function vn(){const t=new WeakMap;return new IntersectionObserver((e,n)=>{for(const i of e){const r=i.target,s=t.get(r);i.isIntersecting?(s&&clearTimeout(s),t.set(r,setTimeout(()=>{n.unobserve(r),t.delete(r),z(r.href)},300))):s&&(clearTimeout(s),t.delete(r))}})}function bn(){ut(()=>{for(const t of document.getElementsByTagName("a"))q(t,"load")&&z(t.href)})}function z(t,e){t=t.replace(/#.*/,"");const n=e?.ignoreSlowConnection??!1;if(Tn(t,n))if(Xt.add(t),document.createElement("link").relList?.supports?.("prefetch")&&e?.with!=="fetch"){const i=document.createElement("link");i.rel="prefetch",i.setAttribute("href",t),document.head.append(i)}else fetch(t,{priority:"low"})}function Tn(t,e){if(!navigator.onLine||!e&&Wt())return!1;try{const n=new URL(t,location.href);return location.origin===n.origin&&(location.pathname!==n.pathname||location.search!==n.search)&&!Xt.has(t)}catch{}return!1}function q(t,e){if(t?.tagName!=="A")return!1;const n=t.dataset.astroPrefetch;return n==="false"?!1:e==="tap"&&(n!=null||rt)&&Wt()?!0:n==null&&rt||n===""?e===jt:n===e}function Wt(){if("connection"in navigator){const t=navigator.connection;return t.saveData||/2g/.test(t.effectiveType)}return!1}function ut(t){t();let e=!1;document.addEventListener("astro:page-load",()=>{if(!e){e=!0;return}t()})}function En(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}function Lt(t){return t.dataset.astroReload!==void 0}(ct||En()!=="none")&&(document.addEventListener("click",t=>{let e=t.target;if(t.composed&&(e=t.composedPath()[0]),e instanceof Element&&(e=e.closest("a, area")),!(e instanceof HTMLAnchorElement)&&!(e instanceof SVGAElement)&&!(e instanceof HTMLAreaElement))return;const n=e instanceof HTMLElement?e.target:e.target.baseVal,i=e instanceof HTMLElement?e.href:e.href.baseVal,r=new URL(i,location.href).origin;Lt(e)||e.hasAttribute("download")||!e.href||n&&n!=="_self"||r!==location.origin||t.button!==0||t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||t.defaultPrevented||(t.preventDefault(),Et(i,{history:e.dataset.astroHistory==="replace"?"replace":"auto",sourceElement:e}))}),document.addEventListener("submit",t=>{let e=t.target;if(e.tagName!=="FORM"||t.defaultPrevented||Lt(e))return;const n=e,i=t.submitter,r=new FormData(n,i),s=typeof n.action=="string"?n.action:n.getAttribute("action"),a=typeof n.method=="string"?n.method:n.getAttribute("method");let o=i?.getAttribute("formaction")??s??location.pathname;const l=i?.getAttribute("formmethod")??a??"get";if(l==="dialog"||location.origin!==new URL(o,location.href).origin)return;const u={sourceElement:i??n};if(l==="get"){const d=new URLSearchParams(r),c=new URL(o);c.search=d.toString(),o=c.toString()}else u.formData=r;t.preventDefault(),Et(o,u)}),pn({prefetchAll:!0}));export{Be as _,_e as a};
